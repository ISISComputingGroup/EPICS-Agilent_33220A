record(bo, "$(P)SIM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:SIM")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)DISABLE") 
{
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "0")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:DISABLE")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)UNITS")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(frontpanel,0,0)Units")
    field(SCAN, ".1 second")

    field(ZRVL, 0)
    field(ZRST, "Vpp")
        
    field(ONVL, 1)
    field(ONST, "Vrms")
        
    field(TWVL, 2)
    field(TWST, "dBm")
        
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:UNITS")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)UNITS:SP")
{
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(frontpanel,0,0)Units")

    field(ZRVL, 0)
    field(ZRST, "Vpp")
        
    field(ONVL, 1)
    field(ONST, "Vrms")
        
    field(TWVL, 2)
    field(TWST, "dBm")
        
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:UNITS:SP")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)UNITS:SP:RBV")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(frontpanel,0,0)Units")
    field(SCAN, ".1 second")

    field(ZRVL, 0)
    field(ZRST, "Vpp")
        
    field(ONVL, 1)
    field(ONST, "Vrms")
        
    field(TWVL, 2)
    field(TWST, "dBm")
        
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:UNITS:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)FUNCTION")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(frontpanel,0,0)Actual_Function")
    field(SCAN, ".1 second")

    field(ZRVL, 0)
    field(ZRST, "Sinusoid")
        
    field(ONVL, 1)
    field(ONST, "Square")
        
    field(TWVL, 2)
    field(TWST, "Ramp")
        
    field(THVL, 3)
    field(THST, "Pulse")
        
    field(FRVL, 4)
    field(FRST, "Noise")
        
    field(FVVL, 5)
    field(FVST, "DC")
        
    field(SXVL, 6)
    field(SXST, "User")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FUNCTION")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)FUNCTION:SP")
{
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(frontpanel,0,0)Nominal_Function")

    field(ZRVL, 0)
    field(ZRST, "Sinusoid")
        
    field(ONVL, 1)
    field(ONST, "Square")
        
    field(TWVL, 2)
    field(TWST, "Ramp")
        
    field(THVL, 3)
    field(THST, "Pulse")
        
    field(FRVL, 4)
    field(FRST, "Noise")
        
    field(FVVL, 5)
    field(FVST, "DC")
        
    field(SXVL, 6)
    field(SXST, "User")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FUNCTION:SP")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)FUNCTION:SP:RBV")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(frontpanel,0,0)Nominal_Function")
    field(SCAN, ".1 second")

    field(ZRVL, 0)
    field(ZRST, "Sinusoid")
        
    field(ONVL, 1)
    field(ONST, "Square")
        
    field(TWVL, 2)
    field(TWST, "Ramp")
        
    field(THVL, 3)
    field(THST, "Pulse")
        
    field(FRVL, 4)
    field(FRST, "Noise")
        
    field(FVVL, 5)
    field(FVST, "DC")
        
    field(SXVL, 6)
    field(SXST, "User")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FUNCTION:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)FREQUENCY")
{
    field(DTYP, "asynFloat64")
    field(INP,  "@asyn(frontpanel,0,0)Actual_Frequency")
    field(PREC, "3")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FREQUENCY")
    field(SDIS, "$(P)DISABLE")
}

record(ao, "$(P)FREQUENCY:SP")
{
    field(DTYP, "asynFloat64")
    field(OUT,  "@asyn(frontpanel,0,0)Nominal_Frequency")
    field(PREC, "3")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FREQUENCY:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)FREQUENCY:SP:RBV")
{
    field(DTYP, "asynFloat64")
    field(INP,  "@asyn(frontpanel,0,0)Nominal_Frequency")
    field(PREC, "3")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FREQUENCY:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)AMPLITUDE")
{
    field(DTYP, "asynFloat64")
    field(INP,  "@asyn(frontpanel,0,0)Actual_Amplitude")
    field(PREC, "3")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:AMPLITUDE")
    field(SDIS, "$(P)DISABLE")
}

record(ao, "$(P)AMPLITUDE:SP")
{
    field(DTYP, "asynFloat64")
    field(OUT,  "@asyn(frontpanel,0,0)Nominal_Amplitude")
    field(PREC, "3")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:AMPLITUDE:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)AMPLITUDE:SP:RBV")
{
    field(DTYP, "asynFloat64")
    field(INP,  "@asyn(frontpanel,0,0)Nominal_Amplitude")
    field(PREC, "3")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:AMPLITUDE:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)OFFSET")
{
    field(DTYP, "asynFloat64")
    field(INP,  "@asyn(frontpanel,0,0)Actual_Offset")
    field(PREC, "3")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OFFSET")
    field(SDIS, "$(P)DISABLE")
}

record(ao, "$(P)OFFSET:SP")
{
    field(DTYP, "asynFloat64")
    field(OUT,  "@asyn(frontpanel,0,0)Nominal_Offset")
    field(PREC, "3")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OFFSET:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)OFFSET:SP:RBV")
{
    field(DTYP, "asynFloat64")
    field(INP,  "@asyn(frontpanel,0,0)Nominal_Offset")
    field(PREC, "3")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OFFSET:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)NAME")
{
    field(DTYP, "asynOctetRead")
    field(INP,  "@asyn(frontpanel,0,0)Name")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:NAME")
    field(SDIS, "$(P)DISABLE")
}

record(stringout, "$(P)NAME:SP")
{
    field(DTYP, "asynOctetWrite")
    field(OUT,  "@asyn(frontpanel,0,0)Name")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:NAME:SP")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)NAME:SP:RBV")
{
    field(DTYP, "asynOctetRead")
    field(INP,  "@asyn(frontpanel,0,0)Name")
    field(SCAN, ".1 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:NAME:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)OUTPUT:SP:RBV")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(frontpanel,0,0)Nominal_Output")
    field(SCAN, ".1 second")

    field(ZRVL, 0)
    field(ZRST, "Off")
        
    field(ONVL, 1)
    field(ONST, "On")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OUTPUT:SP:RBV")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)OUTPUT:SP")
{
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(frontpanel,0,0)Nominal_Output")

    field(ZRVL, 0)
    field(ZRST, "Off")
        
    field(ONVL, 1)
    field(ONST, "On")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OUTPUT:SP")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)OUTPUT")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(frontpanel,0,0)Actual_Output")
    field(SCAN, ".1 second")
    field(ZNAM, "OFF")
    field(ONAM, "ON")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OUTPUT")
    field(SDIS, "$(P)DISABLE")
}


### SIMULATION RECORDS ###

record(mbbi, "$(P)SIM:FUNCTION")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:FUNCTION","$(P)SIM:FUNCTION:SP")

alias("$(P)SIM:FUNCTION","$(P)SIM:FUNCTION:SP:RBV")

record(bi, "$(P)SIM:OUTPUT")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:OUTPUT","$(P)SIM:OUTPUT:SP")

alias("$(P)SIM:OUTPUT","$(P)SIM:OUTPUT:SP:RBV")

record(mbbi, "$(P)SIM:UNITS")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:UNITS","$(P)SIM:UNITS:SP")

alias("$(P)SIM:UNITS","$(P)SIM:UNITS:SP:RBV")

record(ai, "$(P)SIM:FREQUENCY")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:FREQUENCY","$(P)SIM:FREQUENCY:SP")

alias("$(P)SIM:FREQUENCY","$(P)SIM:FREQUENCY:SP:RBV")

record(stringin, "$(P)SIM:NAME")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:NAME","$(P)SIM:NAME:SP")

alias("$(P)SIM:NAME","$(P)SIM:NAME:SP:RBV")

record(ai, "$(P)SIM:AMPLITUDE")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:AMPLITUDE","$(P)SIM:AMPLITUDE:SP")

alias("$(P)SIM:AMPLITUDE","$(P)SIM:AMPLITUDE:SP:RBV")

record(ai, "$(P)SIM:OFFSET")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:OFFSET","$(P)SIM:OFFSET:SP")

alias("$(P)SIM:OFFSET","$(P)SIM:OFFSET:SP:RBV")

